<!DOCTYPE html>
<html>

<head>

    <meta charset="utf-8">
    <title>Sitzungsverwaltung</title>
    <meta name="author" content="Fabian Dietrich">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="https://fsinfo.fim.uni-passau.de/assets/icons/favicon.ico" type="image/x-icon">
    <script src="assets/js/login.js"></script>

    <style>

        .wrapper {
            display: flex;
        }

        .column {
            width: 32%;
            margin: 10px;
        }

        input, textarea {
            display: block;
            width: 100%;
            margin: 10px;
        }

    </style>

</head>

<body>

    <div class="wrapper">
        <div class="column">
            <input id="col1-name" type="text" placeholder="Spaltenname">
            <textarea id="col1-content" rows="20"></textarea>
        </div>
        <div class="column">
            <input id="col2-name" type="text" placeholder="Spaltenname">
            <textarea id="col2-content" rows="20"></textarea>
        </div>
        <div class="column">
            <input id="col3-name" type="text" placeholder="Spaltenname">
            <textarea id="col3-content" rows="20"></textarea>
        </div>
    </div>
    
    <button style="display: block; margin: auto;" onclick="save()">Speichern</button>

    <script>

        function save() {
            let title1 = document.getElementById("col1-name").value;
            let title2 = document.getElementById("col2-name").value;
            let title3 = document.getElementById("col3-name").value;
            let content1 = document.getElementById("col1-content").value;
            let content2 = document.getElementById("col2-content").value;
            let content3 = document.getElementById("col3-content").value;
            let redeliste = [{"title": title1, "content": content1}, {"title": title2, "content": content2}, {"title": title3, "content": content3}]
            fetch("/api/redeliste.php", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(redeliste)
            })
        }

        window.addEventListener("keydown", function(event) {
            if (event.ctrlKey && event.key === "s") {
                event.preventDefault();
                save();
            }
        });

    </script>

</body>

</html>